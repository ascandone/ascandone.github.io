(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{kOoH:function(e,t,a){"use strict";a.r(t),a.d(t,"metadata",(function(){return c})),a.d(t,"_frontmatter",(function(){return i})),a.d(t,"default",(function(){return p}));var n=a("zLVn"),s=(a("q1tI"),a("7ljp")),l=a("i4IE"),c={title:"A simple guide to learning React from scratch",tags:["react","functional programming","ui"],date:"17 Aug, 2021"},i={},o={metadata:c,_frontmatter:i},r=l.a;function p(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(s.b)(r,Object.assign({},o,a,{components:t,mdxType:"MDXLayout"}),Object(s.b)("h2",null,"Why React?"),Object(s.b)("p",null,"If you have dealt with html using vanilla javascript you have probably dealt with the following problems:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"No code reuse at all!"),Object(s.b)("li",{parentName:"ul"},"Complexity of the code grows exponentially as the app grows"),Object(s.b)("li",{parentName:"ul"},"Can't reliably test the code"),Object(s.b)("li",{parentName:"ul"},"Application logic and presentation not always separated (state often resides IN the DOM)")),Object(s.b)("p",null,"You might have used libraries like jquery, but it merely provides shortcuts for the common use cases, without actually solving those problems. The approach is exactly the same: imperatively manipulate the DOM."),Object(s.b)("p",null,"React (among others) offers a radically different approach.\nThat requires a small shift in your mindset, ","[TODO: fun, clean, elegant]"),Object(s.b)("h2",null,"The virtual DOM"),Object(s.b)("p",null,"The concept behind the hood is quite simple.\nLet's consider the following html node:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-html"}),'<div class="header">\n  <h2>Hello</h2>\n  <p>World!</p>\n</div>\n')),Object(s.b)("p",null,"You can ",Object(s.b)("em",{parentName:"p"},"model")," it in React as:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),"// I know it looks gross - for now!\nconst App = React.createElement('div', { className: 'header' }, [\n  React.createElement('h2', null, 'Hello'),\n  React.createElement('p', null, 'World'),\n])\n")),Object(s.b)("p",null,"It simply instanciates (roughly) something like:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"// A plain old tree data structure\n{\n  type: 'div',\n  props: {\n    className: 'header',\n    children: [\n      { type: 'h2', props: { children: ['Hello'] } },\n      { type: 'p', props: { children: ['World!'] } },\n    ],\n  },\n}\n")),Object(s.b)("p",null,"But of course we haven't touched the the DOM yet.\nHere's the magic:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"render(App, document.getElementById('root'))\n")),Object(s.b)("p",null,Object(s.b)("em",{parentName:"p"},"actually renders")," the tree we built inside the ",Object(s.b)("inlineCode",{parentName:"p"},'<div id="root"></div>')," node.\nBut most importantly (and that's the point of the whole thing): subsequent renders calculate the miniminal changes on the DOM ","[TODO: complete]","\nNote that DOM manipulation is usually the bottleneck in web applications perfomance."),Object(s.b)("p",null,"This is, however, particularly verbose and unclear, so it is usually used an extension of javascript called jsx, that offers an handy syntactic sugar to write the previous code in the following way:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'// the parenthesis is just needeed to prevent js inserting the ";" at the end of the line\n// "class" attribute is called "className" to prevent grammar ambiguity (class is a reversed js keyword)\nconst App = (\n  <div className="header">\n    <h2>Hello</h2>\n    <p>World!</p>\n  </div>\n)\n')),Object(s.b)("h2",null,"Extracting components"),Object(s.b)("p",null,"Here' s snippet of code from the ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://slack.com/intl/en-it/"}),"slack")," website:"),Object(s.b)("p",null,Object(s.b)("span",Object.assign({parentName:"p"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1200px"}}),"\n      ",Object(s.b)("a",Object.assign({parentName:"span"},{className:"gatsby-resp-image-link",href:"/static/68732c2fc5a6e60a9cd79451a67e3616/e5c51/banana.webp",style:{display:"block"},target:"_blank",rel:"noopener"}),"\n    ",Object(s.b)("span",Object.assign({parentName:"a"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"66.66666666666666%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/webp;base64,UklGRloAAABXRUJQVlA4IE4AAABQAwCdASoUAA0APtFUo0uoJKMhsAgBABoJZAC06B495FnhAAD3Jp2Iu94FUKFB0g+aJGXnZFCPhzhc5FJbzDgSVq0q3YLGcwz0SIxQAAA=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(s.b)("img",Object.assign({parentName:"a"},{className:"gatsby-resp-image-image",alt:"Slack screenshot",title:"Slack screenshot",src:"/static/68732c2fc5a6e60a9cd79451a67e3616/92f8c/banana.webp",srcSet:["/static/68732c2fc5a6e60a9cd79451a67e3616/c85cb/banana.webp 300w","/static/68732c2fc5a6e60a9cd79451a67e3616/e88ff/banana.webp 600w","/static/68732c2fc5a6e60a9cd79451a67e3616/92f8c/banana.webp 1200w","/static/68732c2fc5a6e60a9cd79451a67e3616/e5c51/banana.webp 1350w"],sizes:"(max-width: 1200px) 100vw, 1200px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n  "),"\n    ")),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-html"}),'<div class="c-feature-grid v--three v--imageicon u-text--left">\n  <div class="c-feature-grid__item">\n    <h3 class="display-as-paragraph">\n      <strong>Conversations, organized</strong>\n    </h3>\n    <p class="c-feature-grid__item__copy">\n      Instead of a single overstuffed inbox, conversations in Slack happen in\n      dedicated spaces called channels.\n    </p>\n  </div>\n  <div class="c-feature-grid__item">\n    <h3 class="display-as-paragraph">\n      <strong>Get looped in, not out</strong>\n    </h3>\n    <p class="c-feature-grid__item__copy">\n      Slack makes it simple to follow conversations or find important\n      information in an easily searchable archive.\n    </p>\n  </div>\n  <div class="c-feature-grid__item">\n    <h3 class="display-as-paragraph"><strong>Give focus a chance</strong></h3>\n    <p class="c-feature-grid__item__copy">\n      Unlike email, Slack lets you choose which conversations are most important\n      â€”&nbsp;and which can wait.\n    </p>\n  </div>\n</div>\n')),Object(s.b)("p",null,"Mmh, that's not good. Here we are repeating three times some very similar code.\nCopy-pasting the same code multiple times doesn't look that good to me. What if I want to change, or even just refactor it? I would have to change each one of those columns, and do the same thing over and over, even just to introduce a smal change.\nAnd what if I used that component in many different places?"),Object(s.b)("p",null,"It would take a very small time to mess up everything.\nAnd what's the simplest computer-sciency pattern to solve those problems?"),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"Functions"),", of course!"),Object(s.b)("p",null,"Since we modeled an html node just as a javascript value, we also return it from a function.\nOne way of designing it could be this:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),'const FeatureGrid = ({ header, content }) => (\n  <div className="c-feature-grid__item">\n    <h3 className="display-as-paragraph">\n      <strong>{header}</strong>\n    </h3>\n    <p className="c-feature-grid__item__copy">{content}</p>\n  </div>\n)\n')),Object(s.b)("p",null,"The square brackets inside the html part are the jsx equivalent of string interpolation: inside the brackets it's just javascript. ","[TODO: explain better; use for props, need to be element or arr element]"),Object(s.b)("p",null,"Now we could of course use our component calling the function:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"// Spoiler: don't actually do this\nFeatureGrid({\n  header: 'Conversations, organized',\n  content:\n    'Instead of a single overstuffed inbox, conversations in Slack happen in dedicated spaces called channels.',\n})\n")),Object(s.b)("p",null,"But since it would be hardly readable to mix this syntax and jsx syntax, we actually call it this way, as it was regular html:"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-html"}),'<div className="c-feature-grid v--three v--imageicon u-text--left">\n  <FeatureGrid\n    header="Conversations, organized"\n    content="Instead of a single ..."\n  />\n  <FeatureGrid header="..." content="..." />\n  <FeatureGrid header="..." content="..." />\n</div>\n')),Object(s.b)("p",null,"This code is actually not the same thing as the function call above, since it uses the React.createElement function. ","[TODO: explain better]","\nYou can think of it as a technical detail, but in case you are interested the motivation of this decision is explained ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://reactjs.org/docs/design-principles.html#scheduling"}),"here")),Object(s.b)("p",null,"What you do need to know, hovever, is that is mandatory that the Component is a ",Object(s.b)("strong",{parentName:"p"},"pure")," function - a function in the mathematical sense of the term: given the same arguments, it returns the same values, without performing any side-effects, like mutating external data or event ",Object(s.b)("inlineCode",{parentName:"p"},"console.log"),"-ing stuff."),Object(s.b)("p",null,"Also, (function) components only take one argument - an object, with arbitrary fields (except the reserved ",Object(s.b)("inlineCode",{parentName:"p"},"key")," and ",Object(s.b)("inlineCode",{parentName:"p"},"ref"),') - called "props".'),Object(s.b)("p",null,"Don't worry, those are, in practice, not limitations, but best practices you would follow anyway for components"),Object(s.b)("p",null,'Note that the children will be passed to the components as the "children" prop, as an array of react elements. Hence we could have designed our component this way:'),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),'const FeatureGrid = ({ header, children }) => (\n  <div className="c-feature-grid__item">\n    <h3 className="display-as-paragraph">\n      <strong>{header}</strong>\n    </h3>\n    <p className="c-feature-grid__item__copy">{children}</p>\n  </div>\n)\n')),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-html"}),'<FeatureGrid header="Conversations, organized">\n  Instead of a single ...\n</FeatureGrid>\n')),Object(s.b)("h2",null,"Interlude: create a react project"),Object(s.b)("p",null,"[TODO]"),Object(s.b)("h2",null,"Managing state"),Object(s.b)("p",null,"So far, we have everything we need to create an arbitrary large html page.\nWe have the ability to create reusable components, focused on a small UI element, and to compose them to create more complex ones."),Object(s.b)("p",null,"But what if we want the app content to change?\nThe key point here is that we ",Object(s.b)("strong",{parentName:"p"},"do not")," manipulate the DOM."))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-blog-learn-react-2-mdx-c41b1830aaf8b9693c58.js.map