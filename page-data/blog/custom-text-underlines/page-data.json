{"componentChunkName":"component---src-components-blog-layout-tsx","path":"/blog/custom-text-underlines","result":{"pageContext":{"frontmatter":{"date":"Feb 11, 2020","tags":null,"title":"Custom text underlines"},"html":"<p>The <code class=\"language-text\">text-decoration: underline</code> CSS property provides insufficient control over the underline styling and position. While we wait for the <a href=\"https://www.w3.org/TR/css-text-decor-4/\">CSS Text Decoration Module specification</a> to become standard, we must rely on custom implementations.</p>\n<p>My favorite approach is to use a <code class=\"language-text\">linear-gradient</code> to create an underline:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">linear-gradient</span><span class=\"token punctuation\">(</span>gray<span class=\"token punctuation\">,</span> gray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token property\">background-size</span><span class=\"token punctuation\">:</span> 100% 1px<span class=\"token punctuation\">;</span>\n<span class=\"token property\">background-position</span><span class=\"token punctuation\">:</span> left bottom<span class=\"token punctuation\">;</span>\n<span class=\"token property\">background-repeat</span><span class=\"token punctuation\">:</span> no-repeat<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"l\">\n  <div>\n    <span>Day by day, what you do is what you become.</span>\n  </div>\n</div>\n<h2>Position</h2>\n<p>Position the underline by changing the vertical value of <code class=\"language-text\">background-position</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">background-position</span><span class=\"token punctuation\">:</span> left 1.05em<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"l _2\">\n  <div>\n    <span>Day by day, what you do is what you become.</span>\n  </div>\n</div>\n<h2>Descenders</h2>\n<p>You'll notice that the underline overlaps the <a href=\"https://www.figma.com/dictionary/descender/\">descenders</a> of the text. By adding a <code class=\"language-text\">text-shadow</code> with a small offset to the right and left with the color of the background, you can hide the underline around descenders.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">text-shadow</span><span class=\"token punctuation\">:</span> 0.1em 0 <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--background<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> -0.1em 0 <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--background<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"l _2 _3\">\n  <div>\n    <span>Day by day, what you do is what you become.</span>\n  </div>\n</div>\n<p>Remember to set <code class=\"language-text\">text-shadow: none</code> in your <code class=\"language-text\">::selection</code> rules.</p>\n<h2>Weight</h2>\n<p>Change the height of the background to increase the underline weight:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">background-size</span><span class=\"token punctuation\">:</span> 100% 0.25em<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"l _4\">\n  <div>\n    <span>Day by day, what you do is what you become.</span>\n  </div>\n</div>\n<h2>Dashes</h2>\n<p>By using a <code class=\"language-text\">repeating-linear-gradient</code> and leaving half the gradient transparent, you can customize a dashed underline:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token function\">repeating-linear-gradient</span><span class=\"token punctuation\">(</span>\n  to right<span class=\"token punctuation\">,</span>\n  <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--gray<span class=\"token punctuation\">)</span> 0%<span class=\"token punctuation\">,</span>\n  <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--gray<span class=\"token punctuation\">)</span> 50%<span class=\"token punctuation\">,</span>\n  transparent 50%<span class=\"token punctuation\">,</span>\n  transparent 100%\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token property\">background-size</span><span class=\"token punctuation\">:</span> 1ch 1px<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"l _5\">\n  <div>\n    <span>Day by day, what you do is what you become.</span>\n  </div>\n</div>\n<p>Change the horizontal value of <code class=\"language-text\">background-size</code> to modify the dash width:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">background-size</span><span class=\"token punctuation\">:</span> 5ch 1px<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"l _5 _6\">\n  <div>\n    <span>Day by day, what you do is what you become.</span>\n  </div>\n</div>\n<p>The <code class=\"language-text\">ch</code> unit is equal to the width of the \"0\" glyph in the current font, which can be useful for natural alignment.</p>\n<h2>Wrapping</h2>\n<p>Lastly, this approach also supports multi-line text:</p>\n<div class=\"l\">\n  <div>\n    <span>Day by day,<br /> what you do is what you become.</span>\n  </div>\n</div>\n<p><a href=\"https://twitter.com/pacocoursey\">Let me know</a> if you end up using this, or read more about other approaches in \"<a href=\"https://medium.design/crafting-link-underlines-on-medium-7c03a9274f9\">Crafting link underlines on Medium.</a>\"</p>\n<hr>\n<p>Thanks to <a href=\"https://twitter.com/arzafran\">Franco</a> for reminding me about this technique!</p>\n<style>\n\n.l {\n  background: var(--lighter-gray);\n  width: 100%;\n  height: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: var(--radius);\n  font-size: 1.25rem;\n  color: var(--fg);\n  text-align: center;\n}\n\n.l span {\n  background-image: linear-gradient(var(--gray), var(--gray));\n  background-size: 100% 1px;\n  background-position: left bottom;\n  background-repeat: no-repeat;\n}\n\n.l._2 span {\n  background-position: left 1.05em;\n}\n\n.l._3 span {\n  text-shadow: 0.1em 0 var(--lighter-gray), -0.1em 0 var(--lighter-gray);\n}\n\n.l._4 span {\n  background-size: 100% 0.25em;\n}\n\n.l._5 span {\n  background: repeating-linear-gradient(\n    to right,\n    var(--gray) 0%,\n    var(--gray) 50%,\n    transparent 50%,\n    transparent 100%\n  );\n  background-repeat: repeat-x;\n  background-size: 1ch 1px;\n  background-position: bottom left;\n}\n\n\n.l._6 span {\n  background-size: 2ch 1px;\n}\n</style>"}},"staticQueryHashes":[]}